{"version":3,"sources":["js/apiService.js","index.js"],"names":["ApiService","constructor","searchValue","page","fetchArticles","console","log","KEY","URl","fetch","then","r","json","data","incrematePage","resetPage","value","newValue","refs","input","document","querySelector","btnSearch","btn","apiService","onSearch","event","preventDefault","onLoad","evt","addEventListener"],"mappings":";;;AAAgC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAjB,MAAMA,EACnBC,cACOC,KAAAA,YAAc,GACdC,KAAAA,KAAO,EAEdC,gBACEC,QAAQC,IAAI,MACNC,MAEAC,wEAA4E,KAAKN,oBAAoB,KAAKC,0DAEhHM,MAAMD,GACHE,KAAKC,GAAKA,EAAEC,QACZF,KAAKG,IACCC,KAAAA,kBAIXA,gBACOX,KAAAA,MAAQ,EAGfY,YACOZ,KAAAA,KAAO,EAGVa,YACK,OAAA,KAAKd,YAGVc,UAAMC,GACHf,KAAAA,YAAce,GA/BS,QAAA,QAAA;;ACuC/B,aAvCD,QAAA,oBACA,IAAA,EAAA,EAAA,QAAA,oBAsCC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAhCD,MAAMC,EAAO,CACXC,MAAOC,SAASC,cAAc,UAC9BC,UAAWF,SAASC,cAAc,eAClCE,IAAKH,SAASC,cAAc,SAE9BhB,QAAQC,IAAIY,EAAKI,WAEjB,MAAME,EAAa,IAAIxB,EAAJ,QAInB,SAASyB,EAASC,GAChBA,EAAMC,iBACNH,EAAWtB,YAAcgB,EAAKC,MAAMH,MACpCX,QAAQC,IAAIkB,EAAWtB,aACvBsB,EAAWT,YACXS,EAAWpB,gBAYb,SAASwB,EAAOC,GACdL,EAAWpB,gBApBbc,EAAKI,UAAUQ,iBAAiB,QAASL,GAiBzCP,EAAKK,IAAIO,iBAAiB,QAASF","file":"src.39eafed1.js","sourceRoot":"../src","sourcesContent":["export default class ApiService {\n  constructor() {\n    this.searchValue = '';\n    this.page = 1;\n  }\n  fetchArticles() {\n    console.log(this);\n    const KEY = '21785158-d7699e1d635f5d39ae805dbbd';\n\n    const URl = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.searchValue}&page=${this.page}&per_page=12&key=${KEY}`;\n\n    fetch(URl)\n      .then(r => r.json())\n      .then(data => {\n        this.incrematePage();\n      });\n  }\n\n  incrematePage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get value() {\n    return this.searchValue;\n  }\n\n  set value(newValue) {\n    this.searchValue = newValue;\n  }\n}\n","import './sass/main.scss';\nimport ApiService from './js/apiService';\n\n// const options = {\n//   headers: { Authorization: '21785158-d7699e1d635f5d39ae805dbbd' },\n// };\n\nconst refs = {\n  input: document.querySelector('.input'),\n  btnSearch: document.querySelector('.btn-search'),\n  btn: document.querySelector('.btn'),\n};\nconsole.log(refs.btnSearch);\n\nconst apiService = new ApiService();\n\nrefs.btnSearch.addEventListener('click', onSearch);\n\nfunction onSearch(event) {\n  event.preventDefault();\n  apiService.searchValue = refs.input.value;\n  console.log(apiService.searchValue);\n  apiService.resetPage();\n  apiService.fetchArticles();\n}\n\n// refs.input.addEventListener('input', onInput);\n\n// function onInput(evt) {\n//   apiService.searchValue = refs.input.value;\n//   apiService.resetPage;\n//   apiService.fetchArticles();\n// }\nrefs.btn.addEventListener('click', onLoad);\n\nfunction onLoad(evt) {\n  apiService.fetchArticles();\n\n  //   apiService.incrematePage();\n}\n"]}